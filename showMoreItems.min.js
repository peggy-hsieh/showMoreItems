/*!
 * showMoreItem.js Version:1.0.0
 * @copyright 2020 PeggyHsieh
 * @license MIT (https://github.com/peggy-hsieh/showMoreItems)
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function($){var ShowMoreItems=window.ShowMoreItems||{},ShowMoreItems=function(t,e){$(t).addClass("showMoreItemsList");var o=$(t).data("showMoreItems")||{};this.options=$.extend({},{nowNum:1,startNum:1,afterNum:1,original:!1,moreText:"更多Show more",noMoreText:"沒有更多No more",backMoreText:"收回Take back",responsive:""},e,o),this.init(t)};ShowMoreItems.prototype.init=function(t){var o=this;return o.defaults=o.options,o.sum=$(t).children().length,$(window).resize(function(){return o.options=$.extend({},o.options,o.defaults),$.each(o.options.responsive,function(t,e){if(!($(window).innerWidth()<=e.breakpoint))return!1;e=e.settings,o.options=$.extend({},o.options,e)}),o.runData(t,o),!1}),o.options.responsive.length&&$.each(o.options.responsive,function(t,e){if(!($(window).innerWidth()<=e.breakpoint))return!1;e=e.settings,o.options=$.extend({},o.options,e)}),o.runData(t,o),!1},ShowMoreItems.prototype.runData=function(o,r){var s=this;s.goOut=!1,$(o).children().hide(),$(o).next(".button-box").remove(),s.nowNum=r.options.nowNum-1,s.goNum=s.nowNum+r.options.startNum,s.sum<=r.options.startNum&&(s.goNum=s.sum,s.goOut=!0);for(var t=s.nowNum;t<s.goNum;t++)$(o).children().eq(t).show(),s.nowNum+=1;s.goOut||$(o).after('<div class="button-box"><button class="addListData">'+r.options.moreText+"</button></div>"),$(o).next().on("click",".addListData",function(t){s.goNum=s.nowNum+r.options.afterNum,s.sum<=s.goNum&&(s.goNum=s.sum,s.goOut=!0);for(var e=s.nowNum;e<s.goNum;e++)$(o).children().eq(e).show(),s.nowNum+=1;s.goOut&&r.options.original?$(this).text(r.options.backMoreText).addClass("original"):s.goOut&&$(this).text(r.options.noMoreText)}),$(o).next().on("click",".original",function(t){return $(this).removeClass("original"),s.reflesh($(this)),!1})},ShowMoreItems.prototype.reflesh=function(t){thisE=t.parent().prev(),t.remove(),this.init(thisE)},$.fn.showMoreItems=function(){for(var t,e=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1),s=e.length,n=0;n<s;n++)if("object"==typeof o||void 0===o?e[n].showMoreItems=new ShowMoreItems(e[n],o):t=e[n].showMoreItems[o].apply(e[n].showMoreItems,r),void 0!==t)return t;return e},$(function(){var settings;$('[data-showMoreItems="true"]').length&&(selecter=$('[data-showMoreItems="true"]'),"true"==selecter.attr("data-showMoreItems")&&(settings={nowNum:1,getView:0,startNum:1,afterNum:1,original:!1,moreText:"更多Show more",noMoreText:"沒有更多No more",backMoreText:"收回Take back",responsive:""},selecter.attr("data-nowNum")&&(settings.nowNum=parseInt(selecter.attr("data-nowNum"))),selecter.attr("data-startNum")&&(settings.startNum=parseInt(selecter.attr("data-startNum"))),selecter.attr("data-afterNum")&&(settings.afterNum=parseInt(selecter.attr("data-afterNum"))),selecter.attr("data-original")&&(settings.original=Boolean(selecter.attr("data-original"))),selecter.attr("data-moreText")&&(settings.moreText=selecter.attr("data-moreText")),selecter.attr("data-noMoreText")&&(settings.noMoreText=selecter.attr("data-noMoreText")),selecter.attr("data-backMoreText")&&(settings.backMoreText=selecter.attr("data-backMoreText")),selecter.attr("data-responsive")&&(settings.responsive=eval(selecter.attr("data-responsive")))),$('[data-showMoreItems="true"]').showMoreItems(settings))})});